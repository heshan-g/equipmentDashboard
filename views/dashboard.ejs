<!DOCTYPE html>
<html>
  <head>
    <script>
      window.onload = function () {
        var dataPoints = <%-JSON.stringify(dataPoints)%>;
        var operationalCount = '<%= operationalCount; %>';
        var nonOperationalCount = '<%= nonOperationalCount; %>';

        console.log(dataPoints);

        // const dashboard = [
        //   { y: 7, label: 'AHU' },
        //   { y: 8, label: 'Boiler' },
        //   { y: 6, label: 'Fire alarm panel' },
        // ];

        var chart = new CanvasJS.Chart('chartContainer', {
          animationEnabled: true,
          theme: 'light2', // "light1", "light2", "dark1", "dark2"
          title: {
            text: 'All Equipment',
          },
          axisY: {
            title: 'Count',
          },
          axisX: {
            title: 'Equipment Type',
          },
          data: [
            {
              type: 'column',
              showInLegend: false,
              legendMarkerColor: 'white',
              legendText: 'Equipment Type',
              dataPoints,
            },
          ],
        });
        chart.render();
      };
    </script>
  </head>
  <body>
    <h1>Equipment Dashboard</h1>
    <div id="chartContainer" style="height: 370px; width: 100%"></div>
    <script src="../../canvasjs.min.js"></script>
  </body>
</html>
